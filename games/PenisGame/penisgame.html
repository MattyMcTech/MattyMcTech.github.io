<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Penis Game - Dare to Yell!</title>
    <style>
        body {
            font-family: 'Arial', 'Helvetica', sans-serif;
            background-color: #FFB6C1;
            color: #FF1493;
            text-align: center;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }
        h1 {
            font-size: 3em;
            text-shadow: 2px 2px 0px #FF69B4;
            margin-bottom: 20px;
        }
        #game-description {
            font-size: 1.1em;
            max-width: 600px;
            margin-bottom: 20px;
        }
        button {
            font-family: 'Arial', 'Helvetica', sans-serif;
            font-size: 1.5em;
            padding: 12px 24px;
            background-color: #FF69B4;
            color: #FFFFFF;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: transform 0.1s;
        }
        button:active {
            transform: scale(0.95);
        }
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        #score-display {
            font-size: 2.5em;
            margin-top: 20px;
        }
        #volume-meter {
            width: 300px;
            height: 30px;
            background-color: #FFFFFF;
            margin-top: 20px;
            border-radius: 15px;
            overflow: hidden;
        }
        #volume-bar {
            width: 0%;
            height: 100%;
            background-color: #FF69B4;
            transition: width 0.1s;
        }
        #result-display {
            font-size: 2em;
            margin-top: 20px;
            font-weight: bold;
        }
        #recording-indicator {
            font-size: 1.5em;
            margin-top: 20px;
            color: #FF0000;
            font-weight: bold;
            visibility: hidden;
        }
        #leaderboard {
            margin-top: 30px;
            background-color: #FFFFFF;
            padding: 20px;
            border-radius: 10px;
            width: 80%;
            max-width: 800px;
        }
        #leaderboard h2 {
            color: #FF1493;
        }
        #leaderboard-list {
            list-style-type: none;
            padding: 0;
            text-align: left;
        }
        #leaderboard-list li {
            margin: 10px 0;
            font-size: 1.2em;
            display: flex;
            justify-content: space-between;
        }
        #name-input {
            font-size: 1.2em;
            padding: 10px;
            margin-bottom: 20px;
            border: 2px solid #FF69B4;
            border-radius: 5px;
        }
        #browser-warning {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background-color: #FF4500;
            color: white;
            text-align: center;
            padding: 10px;
            font-size: 1.2em;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <h1>The Penis Game</h1>
    <div id="game-description">
        Welcome to the Penis Game! The goal is simple: yell "PENIS" as loud as you can. 
        But be careful where you play - this game is not for the faint of heart or those in quiet public spaces!
    </div>
    <input type="text" id="name-input" placeholder="Enter your name" maxlength="20">
    <button id="yell-button" disabled>YELL "PENIS"!</button>
    <div id="score-display">Score: 0.00</div>
    <div id="volume-meter"><div id="volume-bar"></div></div>
    <div id="recording-indicator">üî¥ RECORDING</div>
    <div id="result-display"></div>
    
    <div id="leaderboard">
        <h2>Top 25 Leaderboard</h2>
        <ol id="leaderboard-list">
            <!-- Leaderboard entries will be inserted here -->
        </ol>
    </div>
    <div id="browser-warning">
        ‚ö†Ô∏è For the best experience, please use Google Chrome (desktop or mobile). Some features may not work in other browsers.
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
    <script>
        // Initialize Gun
        const gun = Gun(['https://gun-manhattan.herokuapp.com/gun']);
        const leaderboardDB = gun.get('penis-game-leaderboard');

        let currentScore = 0;
        let playerName = '';
        let leaderboardEntries = [];
        let updateTimeout = null;
        let lastSubmissionTime = 0;
        const SUBMISSION_COOLDOWN = 3000; // 3 seconds cooldown

        const yellButton = document.getElementById('yell-button');
        const scoreDisplay = document.getElementById('score-display');
        const volumeBar = document.getElementById('volume-bar');
        const recordingIndicator = document.getElementById('recording-indicator');
        const resultDisplay = document.getElementById('result-display');
        const leaderboardList = document.getElementById('leaderboard-list');
        const nameInput = document.getElementById('name-input');

        const _0x3c0d0e=_0xb2f4;(function(_0x5ccc9e,_0x40ffb3){const _0x31774d=_0xb2f4,_0x33cc6a=_0x5ccc9e();while(!![]){try{const _0x2d9379=-parseInt(_0x31774d(0xe8))/0x1*(-parseInt(_0x31774d(0x106))/0x2)+parseInt(_0x31774d(0xfd))/0x3*(-parseInt(_0x31774d(0xeb))/0x4)+-parseInt(_0x31774d(0xef))/0x5+parseInt(_0x31774d(0x108))/0x6*(-parseInt(_0x31774d(0x130))/0x7)+-parseInt(_0x31774d(0x118))/0x8+-parseInt(_0x31774d(0x125))/0x9+parseInt(_0x31774d(0xdd))/0xa*(parseInt(_0x31774d(0xf0))/0xb);if(_0x2d9379===_0x40ffb3)break;else _0x33cc6a['push'](_0x33cc6a['shift']());}catch(_0x3a0822){_0x33cc6a['push'](_0x33cc6a['shift']());}}}(_0x536a,0x1f0a9));function isChrome(){const _0x1ea198=_0xb2f4,_0x2caf17=window[_0x1ea198(0x139)],_0x70c0a0=window[_0x1ea198(0xea)],_0x4b06c1=_0x70c0a0[_0x1ea198(0x126)],_0x3fabad=typeof window[_0x1ea198(0x103)]!==_0x1ea198(0x129),_0x2d4cb1=_0x70c0a0[_0x1ea198(0x10c)][_0x1ea198(0xed)](_0x1ea198(0x137))>-0x1,_0x2e0ea2=_0x70c0a0['userAgent']['match'](_0x1ea198(0x10b));if(_0x2e0ea2)return!![];else return _0x2caf17!==null&&typeof _0x2caf17!==_0x1ea198(0x129)&&_0x4b06c1===_0x1ea198(0xf7)&&_0x3fabad===![]&&_0x2d4cb1===![]?!![]:![];}!isChrome()&&(document['getElementById'](_0x3c0d0e(0x116))[_0x3c0d0e(0x134)][_0x3c0d0e(0xf6)]=_0x3c0d0e(0x128));nameInput[_0x3c0d0e(0xf4)]('input',function(){const _0x31a11c=_0x3c0d0e;playerName=this[_0x31a11c(0x121)][_0x31a11c(0xde)](),yellButton['disabled']=playerName==='';});function updateScore(_0x3dfdd6){const _0x4e7a87=_0x3c0d0e;currentScore=_0x3dfdd6,scoreDisplay['textContent']=_0x4e7a87(0xe2)+currentScore[_0x4e7a87(0x120)](0x2);}function _0xb2f4(_0x29fac6,_0x39f9e8){const _0x536a27=_0x536a();return _0xb2f4=function(_0xb2f432,_0x4b3a94){_0xb2f432=_0xb2f432-0xdd;let _0x2c0a4c=_0x536a27[_0xb2f432];return _0x2c0a4c;},_0xb2f4(_0x29fac6,_0x39f9e8);}function updateVolumeMeter(_0x5a6d89){const _0x5c9e6d=_0x3c0d0e;volumeBar[_0x5c9e6d(0x134)][_0x5c9e6d(0x133)]=_0x5a6d89*0x64+'%';}function displayResult(_0x255542,_0x1848e2){const _0x4d8ac7=_0x3c0d0e;resultDisplay[_0x4d8ac7(0x11e)]=_0x1848e2,resultDisplay[_0x4d8ac7(0x134)][_0x4d8ac7(0xec)]=_0x255542?_0x4d8ac7(0x138):_0x4d8ac7(0x100);}function _0x536a(){const _0x42c3bb=['#00FF00','chrome','isFinal','en-US','score','put','webkitAudioContext','176200SjDzOK','trim','forEach','createAnalyser','continuous','Score:\x20','click','min','results','name','</span>\x20<span>','5vANjtT','Score\x20added\x20to\x20leaderboard:','navigator','3584LvtLZs','color','indexOf','appendChild','866895EUpCaG','341Vioutd','log','onresult','get','addEventListener','Awesome!\x20You\x20yelled\x20\x22','display','Google\x20Inc.','getUserMedia','max','visible','Please\x20enter\x20your\x20name\x20before\x20yelling!','slice','252lajSBf','getTracks','Received\x20leaderboard\x20entry:','#FF0000','We\x20didn\x27t\x20hear\x20a\x20loud\x20enough\x20yell.\x20Try\x20again!','map','opr','substr','lang','61298bVozBV','sort','1794WsvWrS','once','now','CriOS','userAgent','charAt','penis','</span>','createMediaStreamSource','random','fontWeight','visibility','includes','stop','browser-warning','frequencyBinCount','680864KklxHx','transcript','Error\x20accessing\x20microphone:','Oops!\x20You\x20said\x20\x22','getByteFrequencyData','length','textContent','fftSize','toFixed','value','webkitSpeechRecognition','error','toLowerCase','529830WmqUbA','vendor','onerror','block','undefined','No\x20player\x20name,\x20not\x20adding\x20to\x20leaderboard','innerHTML','SpeechRecognition','),\x20but\x20it\x20wasn\x27t\x20loud\x20enough.\x20Try\x20yelling\x20\x22PENIS\x22\x20louder!','AudioContext','hidden','4207QXhajw','\x22\x20instead\x20of\x20\x22PENIS\x22.\x20Try\x20again!','createElement','width','style','Initializing\x20leaderboard...','findIndex','Edge'];_0x536a=function(){return _0x42c3bb;};return _0x536a();}function addScoreToLeaderboard(){const _0x90203f=_0x3c0d0e,_0x31c865=Date[_0x90203f(0x10a)]();if(_0x31c865-lastSubmissionTime<SUBMISSION_COOLDOWN){console[_0x90203f(0xf1)]('Submission\x20attempted\x20too\x20soon\x20after\x20last\x20submission.\x20Ignoring.');return;}if(!playerName){console[_0x90203f(0xf1)](_0x90203f(0x12a));return;}const _0x1edfcb={'name':playerName,'score':currentScore,'timestamp':_0x31c865},_0x42ae51='entry_'+_0x31c865+'_'+Math[_0x90203f(0x111)]()['toString'](0x24)[_0x90203f(0x104)](0x2,0x9);console[_0x90203f(0xf1)]('Attempting\x20to\x20add\x20score:',_0x1edfcb),leaderboardDB[_0x90203f(0xf3)](_0x42ae51)[_0x90203f(0x13d)](_0x1edfcb),console[_0x90203f(0xf1)](_0x90203f(0xe9),_0x1edfcb),lastSubmissionTime=_0x31c865;}function updateLeaderboardDisplay(){const _0x517409=_0x3c0d0e;leaderboardList[_0x517409(0x12b)]='';const _0xf90da9=leaderboardEntries[_0x517409(0x107)]((_0x436661,_0x1ff670)=>_0x1ff670['score']-_0x436661['score'])[_0x517409(0xfc)](0x0,0x19);_0xf90da9[_0x517409(0xdf)]((_0x246e56,_0x5d5a86)=>{const _0xdf2853=_0x517409,_0x434bc5=document[_0xdf2853(0x132)]('li');_0x434bc5['innerHTML']='<span>'+(_0x5d5a86+0x1)+'.\x20'+_0x246e56['name']+_0xdf2853(0xe7)+_0x246e56['score'][_0xdf2853(0x120)](0x2)+_0xdf2853(0x10f),_0x246e56[_0xdf2853(0xe6)]===playerName&&(_0x434bc5[_0xdf2853(0x134)][_0xdf2853(0x112)]='bold'),leaderboardList[_0xdf2853(0xee)](_0x434bc5);});}function initializeLeaderboard(){const _0x271d7f=_0x3c0d0e;console[_0x271d7f(0xf1)](_0x271d7f(0x135)),leaderboardDB[_0x271d7f(0x102)]()[_0x271d7f(0x109)]((_0x31a40c,_0x3200b6)=>{const _0x3fc9d2=_0x271d7f;if(_0x31a40c&&_0x31a40c[_0x3fc9d2(0xe6)]&&_0x31a40c[_0x3fc9d2(0x13c)]){console[_0x3fc9d2(0xf1)](_0x3fc9d2(0xff),_0x31a40c);const _0x2d8400=leaderboardEntries[_0x3fc9d2(0x136)](_0x2d9dfe=>_0x2d9dfe[_0x3fc9d2(0xe6)]===_0x31a40c[_0x3fc9d2(0xe6)]&&_0x2d9dfe['timestamp']===_0x31a40c['timestamp']);_0x2d8400===-0x1?leaderboardEntries['push'](_0x31a40c):leaderboardEntries[_0x2d8400]=_0x31a40c,updateLeaderboardDisplay();}});}function calculateLevenshteinDistance(_0x1e50ba,_0x13ee8c){const _0x2c2f18=_0x3c0d0e;if(_0x1e50ba[_0x2c2f18(0x11d)]===0x0)return _0x13ee8c[_0x2c2f18(0x11d)];if(_0x13ee8c['length']===0x0)return _0x1e50ba[_0x2c2f18(0x11d)];const _0x1afd13=[];for(let _0x63aa8c=0x0;_0x63aa8c<=_0x13ee8c[_0x2c2f18(0x11d)];_0x63aa8c++){_0x1afd13[_0x63aa8c]=[_0x63aa8c];}for(let _0x384cf5=0x0;_0x384cf5<=_0x1e50ba[_0x2c2f18(0x11d)];_0x384cf5++){_0x1afd13[0x0][_0x384cf5]=_0x384cf5;}for(let _0x110f9c=0x1;_0x110f9c<=_0x13ee8c[_0x2c2f18(0x11d)];_0x110f9c++){for(let _0x1155ac=0x1;_0x1155ac<=_0x1e50ba['length'];_0x1155ac++){_0x13ee8c[_0x2c2f18(0x10d)](_0x110f9c-0x1)===_0x1e50ba[_0x2c2f18(0x10d)](_0x1155ac-0x1)?_0x1afd13[_0x110f9c][_0x1155ac]=_0x1afd13[_0x110f9c-0x1][_0x1155ac-0x1]:_0x1afd13[_0x110f9c][_0x1155ac]=Math[_0x2c2f18(0xe4)](_0x1afd13[_0x110f9c-0x1][_0x1155ac-0x1]+0x1,_0x1afd13[_0x110f9c][_0x1155ac-0x1]+0x1,_0x1afd13[_0x110f9c-0x1][_0x1155ac]+0x1);}}return _0x1afd13[_0x13ee8c[_0x2c2f18(0x11d)]][_0x1e50ba[_0x2c2f18(0x11d)]];}function isSimilarToPenis(_0x4a69cb){const _0x16dbc1=_0x3c0d0e,_0x590c8c=0x2,_0x10ceb3=calculateLevenshteinDistance(_0x4a69cb[_0x16dbc1(0x124)](),_0x16dbc1(0x10e));return _0x10ceb3<=_0x590c8c;}yellButton[_0x3c0d0e(0xf4)](_0x3c0d0e(0xe3),async()=>{const _0xa8979b=_0x3c0d0e;if(!playerName){alert(_0xa8979b(0xfb));return;}try{const _0x34db9a=await navigator['mediaDevices'][_0xa8979b(0xf8)]({'audio':!![]}),_0x5ca46a=new(window[(_0xa8979b(0x12e))]||window[(_0xa8979b(0x13e))])(),_0x7d171e=_0x5ca46a[_0xa8979b(0xe0)](),_0x3347bd=_0x5ca46a[_0xa8979b(0x110)](_0x34db9a);_0x3347bd['connect'](_0x7d171e),_0x7d171e[_0xa8979b(0x11f)]=0x100;const _0x57da0b=_0x7d171e[_0xa8979b(0x117)],_0x46e25e=new Uint8Array(_0x57da0b);let _0xced1fe=Date[_0xa8979b(0x10a)](),_0x32455c=0x0,_0x2035a5='',_0x3a996f=![];recordingIndicator[_0xa8979b(0x134)][_0xa8979b(0x113)]=_0xa8979b(0xfa);const _0x3b4eb9=window[_0xa8979b(0x12c)]||window[_0xa8979b(0x122)],_0x387e44=new _0x3b4eb9();_0x387e44[_0xa8979b(0x105)]=_0xa8979b(0x13b),_0x387e44['interimResults']=!![],_0x387e44[_0xa8979b(0xe1)]=!![],_0x387e44['start'](),_0x387e44[_0xa8979b(0xf2)]=function(_0x12039e){const _0x2c06de=_0xa8979b,_0x1c3f57=_0x12039e['results'][_0x12039e[_0x2c06de(0xe5)][_0x2c06de(0x11d)]-0x1];_0x2035a5=_0x1c3f57[0x0][_0x2c06de(0x119)][_0x2c06de(0x124)](),_0x1c3f57[_0x2c06de(0x13a)]&&(_0x3a996f=!![],_0x107ad7());},_0x387e44[_0xa8979b(0x127)]=function(_0x7fc03c){const _0x406693=_0xa8979b;console[_0x406693(0x123)]('Speech\x20recognition\x20error:',_0x7fc03c['error']);};function _0x2ddb99(){const _0x2ff9b0=_0xa8979b;_0x7d171e[_0x2ff9b0(0x11c)](_0x46e25e);const _0x4bd8e1=_0x46e25e['reduce']((_0x49d744,_0x266bd8)=>_0x49d744+_0x266bd8)/_0x57da0b;_0x32455c=Math[_0x2ff9b0(0xf9)](_0x32455c,_0x4bd8e1),updateVolumeMeter(_0x4bd8e1/0xff),Date[_0x2ff9b0(0x10a)]()-_0xced1fe<0x7d0&&!_0x3a996f?requestAnimationFrame(_0x2ddb99):_0x107ad7();}function _0x107ad7(){const _0x4e218f=_0xa8979b;_0x387e44['stop'](),_0x34db9a[_0x4e218f(0xfe)]()['forEach'](_0x3ee1d7=>_0x3ee1d7[_0x4e218f(0x115)]()),recordingIndicator[_0x4e218f(0x134)][_0x4e218f(0x113)]=_0x4e218f(0x12f),_0x2e1610();}function _0x4986d7(_0x16ae10){const _0xfa856a=_0xa8979b;return Math[_0xfa856a(0xe4)](0x64,_0x16ae10/0xff*0x64);}function _0x2e1610(){const _0x108e80=_0xa8979b,_0x3dfcc4=_0x4986d7(_0x32455c);updateScore(_0x3dfcc4);const _0x2b99b0=isChrome(),_0x31b618=_0x2b99b0?_0x2035a5[_0x108e80(0x114)]('penis'):isSimilarToPenis(_0x2035a5);if(_0x31b618||_0x32455c>0x32&&_0x3dfcc4>0x50)addScoreToLeaderboard(),displayResult(!![],_0x108e80(0xf5)+_0x2035a5+'\x22\x20with\x20a\x20score\x20of\x20'+_0x3dfcc4[_0x108e80(0x120)](0x2)+'!');else{if(_0x2035a5)displayResult(![],_0x108e80(0x11b)+_0x2035a5+_0x108e80(0x131));else _0x32455c>0x32?displayResult(![],'We\x20heard\x20a\x20yell\x20(score:\x20'+_0x3dfcc4[_0x108e80(0x120)](0x2)+_0x108e80(0x12d)):displayResult(![],_0x108e80(0x101));}}_0x2ddb99(),setTimeout(_0x107ad7,0x7d0);}catch(_0x26e7a1){console[_0xa8979b(0x123)](_0xa8979b(0x11a),_0x26e7a1),alert('Unable\x20to\x20access\x20microphone.\x20Please\x20make\x20sure\x20you\x20have\x20given\x20permission\x20and\x20try\x20again.');}});

        // Initialize the leaderboard when the page loads
        initializeLeaderboard();

        // Periodically refresh the leaderboard
        setInterval(initializeLeaderboard, 10000); // Refresh every 10 seconds
    </script>
</body>
</html>

